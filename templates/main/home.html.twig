{% extends 'base.html.twig' %}

{% block title %}Home{% endblock %}

{% block body %}
<div class="container">
  
    {% for projectStatus in projectStatuses %}

    <h2 class="project-status--card drag-and-drop--landing" style="border: solid 3px {{ projectStatus.color }}" data-project-status-id="{{ projectStatus.id }}">
        {{ projectStatus.title }}
    </h2>
    <div class="project--container" data-add-project-url="{{ path('project_post') }}" data-update-status-url="{{ path('project_status_update') }}">
    <ul class="project--list-container">
    {% for project in projectStatus.projects %}
        <li class="project--list-item" id="project-{{ project.id }}-item" draggable="true" data-project-id="{{ project.id }}">
        <form action="{{ path('project_put', {'id': project.id}) }}" class="project--list-form" method="put">
            <input type="text" name="title" class="input--title" value="{{ project.title }}" readonly>
            <input type="text" name="description" class="input--description" value="{{ project.description }}" readonly>
            <input type="submit" class="input--submit-project-change hidden" id="project-{{ project.id }}-submit-button" value="Ok">
        </form>
        <i class="fas fa-edit button--edit-project" data-project-id="{{ project.id }}"></i>
        <a href="{{ path('project_show', {'id': project.id}) }}"><i class="fas fa-eye"></i></a>
        <i class="fas fa-arrows-alt"></i>
        </li>
    {% endfor %}
    </ul>
    </div>
    {% else %}
            Les etapes de projet n'ont pas été definis. <a href="{{ path('project_status_new') }}">Definir les etapes</a>.
    {% endfor %}
<button id="add-project--button">Ajouter un projet</button>
</div>
{% block javascripts %}
    <script src="{{ asset('js/homeApp.js') }}"></script>
{% endblock %}
{% endblock %}
